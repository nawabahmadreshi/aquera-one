/**
 * Side Navigation extension for Zendesk themes v2.9.7
 * 
 * Copyright (c) 2014-2021 Lotus Themes
 * https://www.lotusthemes.com
 */

!function(){"use strict";function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s="sidenav",o="is-active",c="is-visible",l=/\/hc(?:\/[A-Za-z0-9-]+)?\/categories\/([0-9]+)[\S]*$/i,r=/\/hc(?:\/[A-Za-z0-9-]+)?\/sections\/([0-9]+)[\S]*$/i,h=/\/hc(?:\/[A-Za-z0-9-]+)?\/articles\/([0-9]+)[\S]*$/i;function d(t,i,e){return t?-1!==t.indexOf(e):!i||-1===i.indexOf(e)}var u={content:["articles","sections","categories"],animation:"accordion",animationDuration:300,homeTitle:"Home",backTitle:"",disableClickHandlers:!1,autoHeightAnimation:!1,mobileBreakpoint:767,showMobile:!0,buttonText:"Toggle navigation",includeCategories:null,includeSections:null,includeArticles:null,excludeCategories:null,excludeSections:null,excludeArticles:null},p={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39"},g=/[&<>"']/g,v=RegExp(g.source),a=function(){function a(t,i,e,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,a),this.i=t,this.$element=i,this.options=$.extend({},u,e),this.data=n,this.ifRenderCategories=-1!==this.options.content.indexOf("categories"),this.ifRenderSections=-1!==this.options.content.indexOf("sections"),this.ifRenderArticles=-1!==this.options.content.indexOf("articles"),this.state={},this.height=0,this.view="desktop",this.init()}var t,i,e;return t=a,e=[{key:"escape",value:function(t){return t&&v.test(t)?t.replace(g,function(t){return p[t]}):t}}],(i=[{key:"init",value:function(){this.$wrapper=$('<div class="'.concat(s,'-container"></div>')),this.$box=$('<div class="'.concat(s," ").concat(s,"_").concat(this.i," ").concat(s,'_init"></div>')),this.initialStates(),"slide"===this.options.animation?(this.$box.addClass("".concat(s,"_slide")),this.initVisibleSlideBlocks()):this.$box.addClass("".concat(s,"_accordion")),this.$element.html(this.$wrapper.html(this.$box[0])[0]),this.options.showMobile&&(this.$button=$('<a href="#" class="btn btn--primary '.concat(s,'-btn" style="display: none;">').concat(this.options.buttonText,"</a>")),this.$overlay=$('<div class="'.concat(s,'-overlay" style="display: none;"></div>')),this.$element.append(this.$overlay[0]),this.$element.append(this.$button[0])),this.renderMenuItems()}},{key:"renderMenuItems",value:function(){var t=this.ifRenderCategories?this.getCategoriesTemplate(ApiData.toCategoriesTree(ApiData.sortBy(this.data,"position"))):this.ifRenderSections?this.getSectionsTemplate(ApiData.toSectionsTree(ApiData.sortBy(this.data,"position"))):this.getArticlesTemplate(this.data.articles);this.$box.append(t),this.handleToggleMobileView(),this.options.disableClickHandlers||("slide"===this.options.animation?(this.autoHeightAnimation(),this.changeBoxHeight(),this.$box.find(".".concat(s,"__category-name")).on("click",this.handleCategoryClick.bind(this)),this.$box.find(".".concat(s,"__section-name")).on("click",this.handleSectionClick.bind(this)),this.$box.find("[data-".concat(s,"-back-to-categories]")).on("click",this.handleBackToCategoriesClick.bind(this)),this.$box.find("[data-".concat(s,"-back-to-sections]")).on("click",this.handleBackToSectionsClick.bind(this)),this.$box.find("[data-".concat(s,"-back-to-prev-sections]")).on("click",this.handleBackToPrevSections.bind(this))):(this.$box.find(".".concat(s,"__category-name")).on("click",this.handleCategorySlideToggleClick.bind(this)),this.$box.find(".".concat(s,"__section-name")).on("click",this.handleSectionSlideToggleClick.bind(this)))),this.options.showMobile&&(this.$button.on("click",this.handleToggleMobileMenu.bind(this)),this.$overlay.on("click",this.handleHideMobileMenu.bind(this))),$(window).on("resize",this.handleToggleMobileView.bind(this))}},{key:"initialStates",value:function(){var t;-1!==window.location.pathname.indexOf("/categories/")?this.state={currentPage:"category",activeCategoryId:parseInt(window.location.pathname.replace(l,"$1"),10)}:-1!==window.location.pathname.indexOf("/sections/")?(this.state={currentPage:"section",activeSectionId:[parseInt(window.location.pathname.replace(r,"$1"),10)]},this.ifRenderCategories&&(this.state.activeCategoryId=ApiData.filterBySectionId(this.data,this.state.activeSectionId[0]).categories[0].id)):-1!==window.location.pathname.indexOf("/articles/")&&(this.state={currentPage:"article",activeArticleId:parseInt(window.location.pathname.replace(h,"$1"),10)},t=ApiData.filterByArticleId(this.data,this.state.activeArticleId),this.ifRenderCategories&&(this.state.activeCategoryId=t.categories[0].id),this.ifRenderSections&&(this.state.activeSectionId=[t.sections[0].id])),this.pushActiveSections()}},{key:"pushActiveSections",value:function(t){this.state.activeSectionId&&this.state.activeSectionId.length&&((t=t||ApiData.filterBySectionId(this.data,this.state.activeSectionId[0]).sections[0])&&t.parent_section_id&&((t=ApiData.filterBySectionId(this.data,t.parent_section_id).sections[0])&&(this.state.activeSectionId.push(t.id),this.pushActiveSections(t))))}},{key:"initVisibleSlideBlocks",value:function(){"category"===this.state.currentPage?this.isExist("category")&&this.$box.addClass("".concat(s,"_sections-is-active")):"section"===this.state.currentPage?this.isExist("section")&&this.isExist("category")?this.$box.addClass("".concat(s,"_articles-is-active")):this.isExist("category")&&this.$box.addClass("".concat(s,"_sections-is-active")):"article"===this.state.currentPage&&(this.isExist("article")&&this.isExist("section")&&this.isExist("category")||this.isExist("section")&&this.isExist("category")?this.$box.addClass("".concat(s,"_articles-is-active")):this.isExist("category")&&this.$box.addClass("".concat(s,"_sections-is-active")))}},{key:"isExist",value:function(t){var i="category"===t?this.state.activeCategoryId:"section"===t?this.state.activeSectionId:this.state.activeArticleId;if("section"!==t)return"article"===t?d(this.options.includeArticles,this.options.excludeArticles,i):"category"===t&&d(this.options.includeCategories,this.options.excludeCategories,i);for(var e=0;e<i.length;e+=1)if(d(this.options.includeSections,this.options.excludeSections,i[0]))return!0;return!1}},{key:"getCategoriesTemplate",value:function(t){return'\n      <ul class="'.concat(s,'__categories-list" style="transition: transform ').concat(this.options.animationDuration,'ms">\n        ').concat(this.options.homeTitle?'\n          <li class="'.concat(s,'__home">\n            <a href="/hc" class="').concat(s,'__home-link">').concat(this.options.homeTitle,"</a>\n          </li>\n        "):"","\n        ").concat(t.map(this.getCategoryTemplate.bind(this)).join(""),"\n      </ul>\n    ")}},{key:"getCategoryTemplate",value:function(t){var i=a.escape(t.name);return this.options.includeCategories&&-1===this.options.includeCategories.indexOf(t.id)||this.options.excludeCategories&&-1!==this.options.excludeCategories.indexOf(t.id)?"":'\n      <li class="'.concat(s,"__category ").concat(this.state.activeCategoryId===t.id?o:"",'"\n        data-').concat(s,'-category-id="').concat(t.id,'">\n        ').concat(this.ifRenderSections?'<a class="'.concat(s,'__category-name" href="').concat(t.html_url,'">').concat(i,"</a>\n            ").concat(this.getSectionsTemplate(t.sections,t)):this.ifRenderArticles?'<a class="'.concat(s,'__category-name" href="').concat(t.html_url,'">').concat(i,"</a>\n           ").concat(this.getArticlesTemplate(ApiData.filterByCategoryId(this.data,t.id).articles,null,t)):'<a href="'.concat(t.html_url,'" class="').concat(s,'__category-name">').concat(i,"</a>"),"\n      </li>")}},{key:"getSectionsTemplate",value:function(t,i){return'\n      <ul class="'.concat(s,'__sections-list" style="transition: transform ').concat(this.options.animationDuration,'ms"\n        ').concat(i?"data-".concat(s,"-parent-").concat(i.category_id?"section":"category",'="').concat(i.id,'"'):"",">\n        ").concat(i?"\n          ".concat("slide"!==this.options.animation?"":'\n          <li class="'.concat(s,"__section ").concat(s,'__back">\n            <span data-').concat(s,"-back-to-").concat(i.category_id?"sections":"categories",">").concat(this.options.backTitle||a.escape(i.name),"</span>\n          </li>\n          "),"\n        "):this.getHomeLinkTemplate(),"\n        ").concat(t.map(this.getSectionTemplate.bind(this)).join(""),"\n      </ul>\n    ")}},{key:"getSectionTemplate",value:function(t){return this.options.includeSections&&-1===this.options.includeSections.indexOf(t.id)||this.options.excludeSections&&-1!==this.options.excludeSections.indexOf(t.id)?"":'\n      <li class="'.concat(s,"__section ").concat(this.state.activeSectionId&&-1!==this.state.activeSectionId.indexOf(t.id)?o:""," ").concat(t.sections.length?"".concat(s,"__section--sections"):""," ").concat(t.articles.length?"".concat(s,"__section--articles"):"",'"\n        data-').concat(s,'-section-id="').concat(t.id,'">\n        <a class="').concat(s,'__section-name" href="').concat(t.html_url,'">').concat(a.escape(t.name),"</a> ").concat(this.getArticlesTemplate(t.articles,t),"\n      </li>\n    ")}},{key:"getArticlesTemplate",value:function(t,i,e){var n="";return i&&this.state.activeSectionId&&(n=i.id===this.state.activeSectionId[0]?"".concat(c," ").concat(o):""),this.ifRenderArticles&&t.length||i.sections.length?'\n      <ul class="'.concat(s,"__articles-list ").concat(n,'" style="transition: transform ').concat(this.options.animationDuration,'ms"\n        ').concat(e?"data-".concat(s,'-parent-category="').concat(e.id,'"'):"","\n        ").concat(i?"data-".concat(s,'-parent-section="').concat(i.id,'"'):"",">\n        ").concat(e?"\n          ".concat("slide"!==this.options.animation?"":'\n            <li class="'.concat(s,"__article ").concat(s,'__back">\n              <span data-').concat(s,"-back-to-categories>").concat(this.options.backTitle||a.escape(e.name),"</span>\n            </li>\n          "),"\n        "):i?"\n          ".concat("slide"!==this.options.animation?"":'\n            <li class="'.concat(s,"__article ").concat(s,'__back">\n             <span data-').concat(s,"-back-to-").concat(i.parent_section_id?"prev-":"","sections>").concat(this.options.backTitle||a.escape(i.name),"</span>\n            </li>\n          "),"\n        "):this.getHomeLinkTemplate(),"\n        ").concat(i&&i.sections&&i.sections.length?i.sections.map(this.getSectionTemplate.bind(this)).join(""):"","\n        ").concat(this.ifRenderArticles&&t.length?t.map(this.getArticleTemplate.bind(this)).join(""):"","\n      </ul>\n    "):""}},{key:"getArticleTemplate",value:function(t){return this.options.includeArticles&&-1===this.options.includeArticles.indexOf(t.id)||this.options.excludeArticles&&-1!==this.options.excludeArticles.indexOf(t.id)?"":'\n      <li class="'.concat(s,"__article ").concat(this.state.activeArticleId===t.id?o:""," ").concat(t.promoted?"".concat(s,"__article--promoted"):"",'"\n        data-').concat(s,'-article-id="').concat(t.id,'">\n        <a href="').concat(t.html_url,'" class="').concat(s,'__article-name">').concat(a.escape(t.title),"</a>\n      </li>\n    ")}},{key:"getHomeLinkTemplate",value:function(){return this.options.homeTitle?'\n      <li class="'.concat(s,"__section ").concat(s,'__home">\n        <a href="/hc" class="').concat(s,'__section-name">').concat(this.options.homeTitle,"</a>\n      </li>\n    "):""}},{key:"categoriesIsActive",value:function(){this.addActiveClass(),this.$box.removeClass("sidenav_articles-is-active sidenav_sections-is-active").addClass("sidenav_categories-is-active")}},{key:"sectionsIsActive",value:function(t){this.addActiveClass(t?"[data-".concat(s,'-parent-category="').concat(t,'"]'):null),this.$box.removeClass("sidenav_categories-is-active sidenav_articles-is-active").addClass("sidenav_sections-is-active")}},{key:"articlesIsActive",value:function(t){this.addActiveClass("[data-".concat(s,'-parent-section="').concat(t,'"]')),this.$box.removeClass("sidenav_categories-is-active sidenav_sections-is-active").addClass("sidenav_articles-is-active")}},{key:"addActiveClass",value:function(t){var i=this;t&&this.$box.find(t).addClass(o).addClass(c),"slide"===this.options.animation?(this.changeBoxHeight(t),this.removeActiveClass(t,!0),setTimeout(function(){return i.removeActiveClass(t)},this.options.animationDuration)):this.removeActiveClass(t)}},{key:"removeActiveClass",value:function(t,i){i=i?c:o;(t?this.$box.find("ul.".concat(i)).not(t):this.$box.find("ul.".concat(i))).removeClass(i),this.$box.hasClass("".concat(s,"_init"))&&this.$box.removeClass("".concat(s,"_init"))}},{key:"autoHeightAnimation",value:function(){this.options.autoHeightAnimation&&this.$box.css("transition-duration","".concat(this.options.animationDuration,"ms"))}},{key:"changeBoxHeight",value:function(t){var i=this,e=t?this.$box.find(t).outerHeight():this.$box.find(".".concat(o)).length&&this.$box.hasClass("".concat(s,"_init}"))?this.$box.find(".".concat(o)).last().children("ul").outerHeight()||this.$box.find(".".concat(o)).last().closest("ul").outerHeight():this.$box.children("ul").outerHeight();this.options.autoHeightAnimation||!this.height?this.$box.height(e):(this.autoHeightDelay&&clearTimeout(this.autoHeightDelay),this.$box.height(e>this.height?e:this.height),this.autoHeightDelay=setTimeout(function(){i.$box.height(e)},this.options.animationDuration)),this.height=e}},{key:"handleCategoryClick",value:function(t){t.preventDefault();t=$(t.currentTarget).closest("[data-".concat(s,"-category-id]")).attr("data-".concat(s,"-category-id"));this.sectionsIsActive(t)}},{key:"handleSectionClick",value:function(t){t.preventDefault();t=$(t.currentTarget).closest("[data-".concat(s,"-section-id]")).attr("data-".concat(s,"-section-id"));this.articlesIsActive(t)}},{key:"handleBackToCategoriesClick",value:function(t){t.preventDefault(),this.categoriesIsActive()}},{key:"handleBackToSectionsClick",value:function(t){t.preventDefault(),this.ifRenderCategories?this.handleCategoryClick(t):this.sectionsIsActive()}},{key:"handleBackToPrevSections",value:function(t){t.preventDefault();t=$(t.currentTarget).parents("[data-".concat(s,"-section-id]")).eq(1).attr("data-".concat(s,"-section-id"));this.articlesIsActive(t)}},{key:"slideToggle",value:function(t){t.siblings("ul").slideToggle(this.options.animationDuration)}},{key:"handleCategorySlideToggleClick",value:function(t){t.preventDefault();t=$(t.currentTarget);this.slideToggle(t),t.closest(".".concat(s,"__category")).toggleClass(o)}},{key:"handleSectionSlideToggleClick",value:function(t){var i=$(t.currentTarget),e=i.siblings("ul");e&&e.length&&(t.preventDefault(),this.slideToggle(i),i.closest(".".concat(s,"__section")).toggleClass(o))}},{key:"handleToggleMobileView",value:function(){window.innerWidth<=this.options.mobileBreakpoint&&"desktop"===this.view&&(this.view="mobile",this.options.showMobile?(this.$button.show(0),this.$overlay.show(0),this.$wrapper.addClass("".concat(s,"-mobile"))):this.$wrapper.hide(0)),window.innerWidth>this.options.mobileBreakpoint&&"mobile"===this.view&&(this.view="desktop",this.options.showMobile?(this.$button.hide(0),this.$overlay.hide(0),this.$wrapper.removeClass("".concat(s,"-mobile"))):this.$wrapper.show(0)),"slide"===this.options.animation&&this.changeBoxHeight()}},{key:"handleToggleMobileMenu",value:function(t){t.preventDefault(),this.$overlay.toggleClass("is-active"),this.$wrapper.toggleClass("is-active")}},{key:"handleHideMobileMenu",value:function(t){t.preventDefault(),this.$overlay.removeClass("is-active"),this.$wrapper.removeClass("is-active")}},{key:"openCategory",value:function(t){var i=this;"slide"===this.options.animation?this.sectionsIsActive("number"==typeof t?t:t[0]):"number"==typeof t?this.$element.find("[data-".concat(s,'-category-id="').concat(t,'"]')).addClass(o):t.forEach(function(t){i.$element.find("[data-".concat(s,'-category-id="').concat(t,'"]')).addClass(o)})}},{key:"closeCategory",value:function(t){var i=this;"slide"===this.options.animation?this.sectionsIsActive("number"==typeof t?t:t[0]):"number"==typeof t?this.$element.find("[data-".concat(s,'-category-id="').concat(t,'"]')).removeClass(o):t.forEach(function(t){i.$element.find("[data-".concat(s,'-category-id="').concat(t,'"]')).removeClass(o)})}},{key:"openSection",value:function(t){var i=this;"slide"===this.options.animation?this.articlesIsActive("number"==typeof t?t:t[0]):"number"==typeof t?this.$element.find("[data-".concat(s,'-section-id="').concat(t,'"]')).addClass(o):t.forEach(function(t){i.$element.find("[data-".concat(s,'-section-id="').concat(t,'"]')).addClass(o)})}},{key:"closeSection",value:function(t){var i=this;"slide"===this.options.animation?this.articlesIsActive("number"==typeof t?t:t[0]):"number"==typeof t?this.$element.find("[data-".concat(s,'-section-id="').concat(t,'"]')).removeClass(o):t.forEach(function(t){i.$element.find("[data-".concat(s,'-section-id="').concat(t,'"]')).removeClass(o)})}},{key:"closeAllCategories",value:function(){var t="slide"===this.options.animation?this.data.categories[0].id:this.data.categories.map(function(t){return t.id});this.closeCategory(t)}},{key:"openAllCategories",value:function(){var t="slide"===this.options.animation?this.data.categories[0].id:this.data.categories.map(function(t){return t.id});this.openCategory(t)}},{key:"openAllSections",value:function(){var t="slide"===this.options.animation?this.data.sections[0].id:this.data.sections.map(function(t){return t.id});this.openSection(t)}},{key:"closeAllSections",value:function(){var t="slide"===this.options.animation?this.data.sections[0].id:this.data.sections.map(function(t){return t.id});this.closeSection(t)}}])&&n(t.prototype,i),e&&n(t,e),a}();$(window).on("apiDataFetched",function(t,n){$(function(){$("[data-sidenav]").each(function(t,i){var e=$(i),i=e.data("sidenav")||{};t||$("html").addClass("sidenav-enabled");i=new a(t,e,i,n);$(window).trigger("sidenavRendered",i),$(window).trigger("resize")})})}),window.SideNav={version:"2.9.7"}}();
